# Redis image for Celery broker
# Managed by Ansible

FROM redis:7-alpine

EXPOSE 6379

HEALTHCHECK --interval=5s --timeout=3s --retries=5 \
    CMD redis-cli ping || exit 1

CMD ["redis-server", "--bind", "0.0.0.0", "--port", "6379", "--appendonly", "yes"]
